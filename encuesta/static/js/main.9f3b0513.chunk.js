(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{583:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(21),i=t.n(o),l=t(32);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(441);var s=t(18),c=t(635),u=t(70),m=t(377),d=Object(u.a)((function(){return Object(m.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"},formControl:{display:"block",width:"100 %",padding:".375rem .75rem",fontSize:"1rem",lineHeight:"1.5",color:"#495057",backgrounColor:"#fff",backgroundClip:"padding - box",border:"1px solid #ced4da",borderRadius:".25rem",transition:"border - color .15s ease -in -out, box - shadow .15s ease -in -out"}}})})),p=function(){return d(),null},h=t(104);h.Chart.helpers.extend(h.Chart.elements.Rectangle.prototype,{draw:function(){var e,a,t,n,r,o,i,l,s=this._chart.ctx,c=this._view,u=c.borderWidth,m=this._chart.config.options.cornerRadius;if(m<0&&(m=0),"undefined"===typeof m&&(m=0),c.horizontal?(e=c.base,a=c.x,t=c.y-c.height/2,n=c.y+c.height/2,r=a>e?1:-1,o=1,i=c.borderSkipped||"left"):(e=c.x-c.width/2,a=c.x+c.width/2,t=c.y,r=1,o=(n=c.base)>t?1:-1,i=c.borderSkipped||"bottom"),u){var d=Math.min(Math.abs(e-a),Math.abs(t-n)),p=(u=u>d?d:u)/2,h=e+("left"!==i?p*r:0),g=a+("right"!==i?-p*r:0),b=t+("top"!==i?p*o:0),f=n+("bottom"!==i?-p*o:0);h!==g&&(t=b,n=f),b!==f&&(e=h,a=g)}s.beginPath(),s.fillStyle=c.backgroundColor,s.strokeStyle=c.borderColor,s.lineWidth=u;var v=[[e,n],[e,t],[a,t],[a,n]],E=["bottom","left","top","right"].indexOf(i,0);function y(e){return v[(E+e)%4]}-1===E&&(E=0);var x=y(0);s.moveTo(x[0],x[1]);for(var C=1;C<4;C+=1){x=y(C);var k=C+1;4===k&&(k=0);var _=v[2][0]-v[1][0],w=v[0][1]-v[1][1],O=v[1][0],S=v[1][1];if((l=m)>Math.abs(w)/2&&(l=Math.floor(Math.abs(w)/2)),l>Math.abs(_)/2&&(l=Math.floor(Math.abs(_)/2)),w<0){var j=O,N=O+_,B=S+w,I=S+w,T=O,A=O+_,D=S,P=S;s.moveTo(T+l,D),s.lineTo(A-l,P),s.quadraticCurveTo(A,P,A,P-l),s.lineTo(N,I+l),s.quadraticCurveTo(N,I,N-l,I),s.lineTo(j+l,B),s.quadraticCurveTo(j,B,j,B+l),s.lineTo(T,D-l),s.quadraticCurveTo(T,D,T+l,D)}else if(_<0){var R=O+_,W=O,F=S,U=S,M=O+_,L=O,V=S+w,q=S+w;s.moveTo(M+l,V),s.lineTo(L-l,q),s.quadraticCurveTo(L,q,L,q-l),s.lineTo(W,U+l),s.quadraticCurveTo(W,U,W-l,U),s.lineTo(R+l,F),s.quadraticCurveTo(R,F,R,F+l),s.lineTo(M,V-l),s.quadraticCurveTo(M,V,M+l,V)}else s.moveTo(O+l,S),s.lineTo(O+_-l,S),s.quadraticCurveTo(O+_,S,O+_,S+l),s.lineTo(O+_,S+w-l),s.quadraticCurveTo(O+_,S+w,O+_-l,S+w),s.lineTo(O+l,S+w),s.quadraticCurveTo(O,S+w,O,S+w-l),s.lineTo(O,S+l),s.quadraticCurveTo(O,S,O+l,S)}s.fill(),u&&s.stroke()}});var g=t(116),b=t(8),f=Object(g.a)({palette:{background:{dark:"#F4F6F8",default:b.a.common.white,paper:b.a.common.white},primary:{main:b.a.indigo[500]},secondary:{main:b.a.indigo[500]},text:{primary:b.a.blueGrey[900],secondary:b.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),v=t(6),E=t(42),y=t(659),x=t(664),C=t(56),k=t(623),_=t(586),w=t(663),O=t(625),S=t(17),j=t(2),N=t(585),B=t(143),I=Object(u.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),T=function(e){var a=e.className,t=e.href,n=e.icon,o=e.title,i=Object(S.a)(e,["className","href","icon","title"]),s=I();return r.a.createElement(N.a,Object.assign({className:Object(j.a)(s.item,a),disableGutters:!0},i),r.a.createElement(B.a,{activeClassName:s.active,className:s.button,component:l.c,to:t},n&&r.a.createElement(n,{className:s.icon,size:"20"}),r.a.createElement("span",{className:s.title},o)))},A=Object(u.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),D=function(e){var a=e.onMobileClose,t=e.openMobile,o=e.items,i=e.user,c=A(),u=Object(s.f)();Object(n.useEffect)((function(){t&&a&&a()}),[u.pathname]);var m=r.a.createElement(y.a,{height:"100%",display:"flex",flexDirection:"column"},r.a.createElement(y.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2},r.a.createElement(x.a,{className:c.avatar,component:l.b,src:i.avatar,to:"/app/usuario?action=view&id="+i.id_user}),r.a.createElement(C.a,{className:c.name,color:"textPrimary",variant:"h5"},i.name),r.a.createElement(C.a,{color:"textSecondary",variant:"body2"},i.jobTitle)),r.a.createElement(k.a,null),r.a.createElement(y.a,{p:2},r.a.createElement(_.a,null,o.map((function(e){return r.a.createElement(T,{href:e.href,key:e.title,title:e.title,icon:e.icon})})))),r.a.createElement(y.a,{flexGrow:1}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{lgUp:!0},r.a.createElement(O.a,{anchor:"left",classes:{paper:c.mobileDrawer},onClose:a,open:t,variant:"temporary"},m)),r.a.createElement(w.a,{mdDown:!0},r.a.createElement(O.a,{anchor:"left",classes:{paper:c.desktopDrawer},open:!0,variant:"persistent"},m)))};D.defaultProps={onMobileClose:function(){},openMobile:!1};var P=D,R=t(627),W=t(628),F=t(111),U=t(382),M=t.n(U),L=t(381),V=t.n(L),q=function(e){return r.a.createElement("img",Object.assign({alt:"Logo",src:"/static/logo-amss.png"},e))},Y=Object(u.a)((function(){return{root:{},avatar:{width:60,height:60}}})),H=function(e){var a=e.className,t=e.onMobileNavOpen,o=Object(S.a)(e,["className","onMobileNavOpen"]),i=Y(),s=Object(n.useState)([]);Object(v.a)(s,1)[0];return r.a.createElement(R.a,Object.assign({className:Object(j.a)(i.root,a),elevation:0},o),r.a.createElement(W.a,null,r.a.createElement(l.b,{to:"/app/dashboard"},r.a.createElement(q,null)),r.a.createElement(y.a,{flexGrow:1}),r.a.createElement(w.a,{mdDown:!0},r.a.createElement(l.b,{to:"/app/logout",style:{textDecoration:"none",color:"white"}},r.a.createElement(F.a,{color:"inherit"},r.a.createElement(V.a,null)))),r.a.createElement(w.a,{lgUp:!0},r.a.createElement(F.a,{color:"inherit",onClick:t},r.a.createElement(M.a,null)))))},z=t(31),G=t.n(z),J=t(53),Q=t(19),K=t(20),$=t(14),X=t.n($),Z=(t(367),"https://eliotest-heroku-spring.herokuapp.com"),ee="user",ae="token",te=new(function(){function e(){Object(Q.a)(this,e)}return Object(K.a)(e,[{key:"executeJwtAuthenticationService",value:function(e,a){return X.a.post("".concat(Z,"/authenticate"),{username:e,password:a})}},{key:"registerSuccessfulLoginForJwt",value:function(e,a){sessionStorage.setItem(ee,e),sessionStorage.setItem(ae,a),this.setupAxiosInterceptors(this.createJWTToken(a))}},{key:"createJWTToken",value:function(e){return"Bearer "+e}},{key:"getTokenUser",value:function(){var e=sessionStorage.getItem(ae);return null===e?"":e}},{key:"logout",value:function(){sessionStorage.removeItem(ee),localStorage.removeItem("originLoginExterno"),sessionStorage.removeItem("id_unidad"),sessionStorage.removeItem("user"),sessionStorage.removeItem("token"),sessionStorage.removeItem("ROLE"),sessionStorage.removeItem("EXP_DATE"),sessionStorage.removeItem("INST"),sessionStorage.removeItem("idUnidadRecurso")}},{key:"modifyUnidadRecurso",value:function(e,a){return X.a.put("".concat(Z,"/unidad_recurso/").concat(e),a,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}})}},{key:"isUserLoggedIn",value:function(){var e=sessionStorage.getItem(ee);return null!==e&&(console.log(e+"....."),!0)}},{key:"getLoggedInUserName",value:function(){var e=sessionStorage.getItem(ee);return null===e?"":e}},{key:"setupAxiosInterceptors",value:function(e){var a=this;X.a.interceptors.request.use((function(t){return a.isUserLoggedIn()&&(t.headers.authorization=e),console.log(t+" ***** "),t}))}},{key:"getApiUrl",value:function(){return Z}},{key:"whoami",value:function(){return X.a.get("".concat(Z,"/usuario/whoami"))}}]),e}()),ne=1,re=t(629),oe=t(630),ie=t(631),le=t(632),se=t(633),ce=t(634),ue=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(E.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),me=function(){var e=ue(),a=Object(n.useState)(!1),t=Object(v.a)(a,2),o=t[0],i=t[1],l=Object(n.useState)(null),c=Object(v.a)(l,2),u=c[0],m=c[1];Object(n.useEffect)((function(){te.whoami().then((function(e){m(e.data)})).catch((function(e){console.error(e)}))}),[]);var d=[{href:"/app/dashboard",icon:re.a,title:"Dashboard"},{href:"/app/customers",icon:oe.a,title:"Encuestas"},{href:"/app/report",icon:ie.a,title:"Reporte"}];null!=u&&u.id_rol.id_rol===ne&&d.push({href:"/app/users",icon:le.a,title:"Usuarios"},{href:"/app/settings",icon:se.a,title:"Config"}),d.push({href:"/app/logout",icon:ce.a,title:"Salir"});var p={avatar:"/static/images/avatars/default-avatar.png",jobTitle:null!=u?u.username+" ("+u.id_rol.nombre_rol+") ":"loading",name:null!=u?u.nombre+" "+u.apellido:"loading",id_user:null!=u?u.id_user:0};return r.a.createElement("div",{className:e.root},r.a.createElement(H,{onMobileNavOpen:function(){return i(!0)}}),r.a.createElement(P,{onMobileClose:function(){return i(!1)},openMobile:o,items:d,user:p}),r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.contentContainer},r.a.createElement("div",{className:e.content},r.a.createElement(s.b,null)))))},de=Object(u.a)({root:{},toolbar:{height:64}}),pe=function(e){var a=e.className,t=Object(S.a)(e,["className"]),n=de();return r.a.createElement(R.a,Object.assign({className:Object(j.a)(n.root,a),elevation:0},t),r.a.createElement(W.a,{className:n.toolbar},r.a.createElement(l.b,{to:"/app/dashboard"},r.a.createElement(q,{style:{margin:10,height:"90%"}}))))},he=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),ge=function(){var e=he();return r.a.createElement("div",{className:e.root},r.a.createElement(pe,null),r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.contentContainer},r.a.createElement("div",{className:e.content},r.a.createElement(s.b,null)))))},be=t(41),fe=t(40),ve=t(638),Ee=t(383),ye=Object(n.forwardRef)((function(e,a){var t=e.children,n=e.title,o=void 0===n?"":n,i=Object(S.a)(e,["children","title"]);return r.a.createElement("div",Object.assign({ref:a},i),r.a.createElement(Ee.a,null,r.a.createElement("title",null,o)),t)})),xe=t(22),Ce=t.n(xe),ke=(t(187),t(637)),_e=t(197),we=t(201),Oe=t.n(we),Se=t(389),je=t.n(Se),Ne=Object(u.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)}}})),Be=function(e){var a=e.className,t=(e.customers,e.encuestas),o=e.user,i=Object(S.a)(e,["className","customers","encuestas","user"]),l=Ne(),s=Object(n.useState)([]),c=Object(v.a)(s,2),u=(c[0],c[1],Object(n.useState)(10)),m=Object(v.a)(u,2),d=(m[0],m[1],Object(n.useState)(0)),p=Object(v.a)(d,2);p[0],p[1];console.log(JSON.stringify(o));var h=[{field:"id",headerName:"No. Usuario",width:100,flex:1},{field:"nombre",headerName:"Nombre Usuario",width:200},{field:"username",headerName:"Username",width:200},{field:"rol",headerName:"Rol",width:200},{field:"fecha_registro",headerName:"Fecha Creaci\xf3n",description:"This column has a value getter and is not sortable.",sortable:!1,width:200,type:"dateTime"},{field:"button",headerName:"Accion",width:200,disableClickEventBubbling:!0,flex:1,renderCell:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{"aria-label":"Ver",onClick:function(){console.log(e.value),window.location="usuario?action=view&id="+e.value}},r.a.createElement(Oe.a,null)),null!=o&&o.id_rol.id_rol===ne&&r.a.createElement(F.a,{"aria-label":"Ver",onClick:function(){console.log(e.value),window.location="usuario?action=update&id="+e.value}},r.a.createElement(je.a,null)))}}];return r.a.createElement(ke.a,Object.assign({className:Object(j.a)(l.root,a)},i),r.a.createElement("div",{style:{height:400,width:"100%"}},r.a.createElement(_e.a,{rows:t,columns:h,pageSize:5,filterModel:{items:[{columnField:"nombre",operatorValue:"contains",value:""}]}})))},Ie=Object(u.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),Te=function(){window.location="usuario?action=new"},Ae=function(e){var a=e.className,t=Object(S.a)(e,["className"]),n=Ie();return r.a.createElement("div",Object.assign({className:Object(j.a)(n.root,a)},t),r.a.createElement(y.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(B.a,{color:"primary",variant:"contained",onClick:Te,style:{marginTop:10}},"Crear Usuario")))},De=te.getApiUrl(),Pe=function(){function e(){Object(Q.a)(this,e)}return Object(K.a)(e,[{key:"findAll",value:function(){return X.a.get("".concat(De,"/usuario/"))}},{key:"findById",value:function(e){return X.a.get("".concat(De,"/usuario/").concat(e))}},{key:"save",value:function(e){return X.a.post("".concat(De,"/usuario/"),e)}},{key:"update",value:function(e,a){return X.a.put("".concat(De,"/detalle/").concat(e),a)}},{key:"updateusuario",value:function(e,a){return X.a.put("".concat(De,"/usuario/").concat(e),a)}},{key:"whoami",value:function(){return X.a.get("".concat(De,"/usuario/whoami"))}}]),e}(),Re=new Pe,We=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Fe=function(e){Object(be.a)(t,e);var a=Object(fe.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).state={dataEncuesta:[],dataEncuestaFormated:[],user:null},n}return Object(K.a)(t,[{key:"componentDidMount",value:function(){this.loadAllEncuestas(),this.userDetail()}},{key:"userDetail",value:function(){var e=this;Re.whoami().then((function(a){e.setState({user:a.data})})).catch((function(e){console.error(e),null}))}},{key:"loadAllEncuestas",value:function(){var e=this;Re.findAll().then((function(a){console.log(a.data),e.setState({dataEncuesta:a.data}),e.makeDataEncuesta(a.data)})).catch((function(e){console.error(e)}))}},{key:"makeDataEncuesta",value:function(e){var a=[];e.map((function(e){a.push({nombre:e.nombre+" "+e.apellido,username:e.username,fecha_registro:Ce()(e.fecha_registro).format("DD/MM/YYYY HH:MM"),id:e.id_user,rol:e.id_rol.nombre_rol,button:e.id_user})})),this.setState({dataEncuestaFormated:a})}},{key:"render",value:function(){return r.a.createElement(ye,{className:We.root,title:"Lista de Usuarios"},r.a.createElement(ve.a,{maxWidth:!1},r.a.createElement(Ae,null),r.a.createElement(y.a,{mt:3},r.a.createElement(Be,{encuestas:this.state.dataEncuestaFormated,user:this.state.user}))))}}]),t}(n.Component),Ue=Object(u.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)}}})),Me=function(e){var a=e.className,t=(e.customers,e.encuestas),o=Object(S.a)(e,["className","customers","encuestas"]),i=Ue(),l=Object(n.useState)([]),s=Object(v.a)(l,2),c=(s[0],s[1],Object(n.useState)(10)),u=Object(v.a)(c,2),m=(u[0],u[1],Object(n.useState)(0)),d=Object(v.a)(m,2);d[0],d[1];console.log(t);var p=[{field:"id",headerName:"No. Ficha",width:100,flex:1},{field:"nombre_usuario",headerName:"Nombre encuestado",width:200},{field:"nombre_puesto",headerName:"Puesto",width:200},{field:"direccion_puesto",headerName:"Direccion",width:200},{field:"fecha_pedido",headerName:"Fecha encuesta",description:"This column has a value getter and is not sortable.",sortable:!1,width:200,type:"dateTime"},{field:"button",headerName:"Accion",width:200,disableClickEventBubbling:!0,flex:1,renderCell:function(e){return r.a.createElement(F.a,{"aria-label":"Ver",onClick:function(){console.log(e.value),window.location="encuesta?action=update&id="+e.value}},r.a.createElement(Oe.a,null))}}];return r.a.createElement(ke.a,Object.assign({className:Object(j.a)(i.root,a)},o),r.a.createElement("div",{style:{height:400,width:"100%"}},r.a.createElement(_e.a,{rows:t,columns:p,pageSize:5,checkboxSelection:!0,filterModel:{items:[{columnField:"nombre_usuario",operatorValue:"contains",value:""}]}})))},Le=Object(u.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),Ve=function(){window.location="encuesta?action=new"},qe=function(e){var a=e.className,t=Object(S.a)(e,["className"]),n=Le();return r.a.createElement("div",Object.assign({className:Object(j.a)(n.root,a)},t),r.a.createElement(y.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(B.a,{color:"primary",variant:"contained",onClick:Ve,style:{marginTop:10}},"Encuestar")))},Ye=t(662),He=[{id:Object(Ye.a)(),address:{country:"USA",state:"West Virginia",city:"Parkersburg",street:"2849 Fulton Street"},avatarUrl:"/static/images/avatars/avatar_3.png",createdAt:15550164e5,username:"ekaterina.tankova@devias.io",name:"Ekaterina Tankova",phone:"304-428-3097"},{id:Object(Ye.a)(),address:{country:"USA",state:"Bristow",city:"Iowa",street:"1865  Pleasant Hill Road"},avatarUrl:"/static/images/avatars/avatar_4.png",createdAt:15550164e5,username:"cao.yu@devias.io",name:"Cao Yu",phone:"712-351-5711"},{id:Object(Ye.a)(),address:{country:"USA",state:"Georgia",city:"Atlanta",street:"4894  Lakeland Park Drive"},avatarUrl:"/static/images/avatars/avatar_2.png",createdAt:15550164e5,username:"alexa.richardson@devias.io",name:"Alexa Richardson",phone:"770-635-2682"},{id:Object(Ye.a)(),address:{country:"USA",state:"Ohio",city:"Dover",street:"4158  Hedge Street"},avatarUrl:"/static/images/avatars/avatar_5.png",createdAt:155493e7,username:"anje.keizer@devias.io",name:"Anje Keizer",phone:"908-691-3242"},{id:Object(Ye.a)(),address:{country:"USA",state:"Texas",city:"Dallas",street:"75247"},avatarUrl:"/static/images/avatars/avatar_6.png",createdAt:15547572e5,username:"clarke.gillebert@devias.io",name:"Clarke Gillebert",phone:"972-333-4106"},{id:Object(Ye.a)(),address:{country:"USA",state:"California",city:"Bakerfield",street:"317 Angus Road"},avatarUrl:"/static/images/avatars/avatar_1.png",createdAt:15546708e5,username:"adam.denisov@devias.io",name:"Adam Denisov",phone:"858-602-3409"},{id:Object(Ye.a)(),address:{country:"USA",state:"California",city:"Redondo Beach",street:"2188  Armbrester Drive"},avatarUrl:"/static/images/avatars/avatar_7.png",createdAt:15543252e5,username:"ava.gregoraci@devias.io",name:"Ava Gregoraci",phone:"415-907-2647"},{id:Object(Ye.a)(),address:{country:"USA",state:"Nevada",city:"Las Vegas",street:"1798  Hickory Ridge Drive"},avatarUrl:"/static/images/avatars/avatar_8.png",createdAt:15230484e5,username:"emilee.simchenko@devias.io",name:"Emilee Simchenko",phone:"702-661-1654"},{id:Object(Ye.a)(),address:{country:"USA",state:"Michigan",city:"Detroit",street:"3934  Wildrose Lane"},avatarUrl:"/static/images/avatars/avatar_9.png",createdAt:15547028e5,username:"kwak.seong.min@devias.io",name:"Kwak Seong-Min",phone:"313-812-8947"},{id:Object(Ye.a)(),address:{country:"USA",state:"Utah",city:"Salt Lake City",street:"368 Lamberts Branch Road"},avatarUrl:"/static/images/avatars/avatar_10.png",createdAt:15227028e5,username:"merrile.burgett@devias.io",name:"Merrile Burgett",phone:"801-301-7894"}],ze=te.getApiUrl(),Ge=function(){function e(){Object(Q.a)(this,e)}return Object(K.a)(e,[{key:"findAll",value:function(){return X.a.get("".concat(ze,"/pedido/"))}},{key:"findById",value:function(e){return X.a.get("".concat(ze,"/pedido/").concat(e))}},{key:"findPreguntasById",value:function(e){return X.a.get("".concat(ze,"/pedido/preguntas/").concat(e))}},{key:"findRespuestasById",value:function(e){return X.a.get("".concat(ze,"/pedido/respuestas/").concat(e))}},{key:"save",value:function(e){return X.a.post("".concat(ze,"/pedido/"),e)}},{key:"update",value:function(e,a){return X.a.put("".concat(ze,"/detalle/").concat(e),a)}},{key:"updatePedido",value:function(e,a){return X.a.put("".concat(ze,"/pedido/").concat(e),a)}}]),e}(),Je=new Ge,Qe=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Ke=function(e){Object(be.a)(t,e);var a=Object(fe.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).state={data:He,dataEncuesta:[],dataEncuestaFormated:[]},n}return Object(K.a)(t,[{key:"componentDidMount",value:function(){this.loadAllEncuestas()}},{key:"loadAllEncuestas",value:function(){var e=this;Je.findAll().then((function(a){console.log(a.data),e.setState({dataEncuesta:a.data}),e.makeDataEncuesta(a.data)})).catch((function(e){console.error(e)}))}},{key:"makeDataEncuesta",value:function(e){var a=[];e.map((function(e){a.push({direccion_puesto:e.direccion_puesto,elaborado_por:e.elaborado_por,fecha_pedido:Ce()(e.fecha_pedido).format("DD/MM/YYYY HH:MM"),id:e.id,id_encuesta:e.id_encuesta,nombre_puesto:e.nombre_puesto,nombre_usuario:e.nombre_usuario,button:e.id})})),this.setState({dataEncuestaFormated:a})}},{key:"render",value:function(){return r.a.createElement(ye,{className:Qe.root,title:"Lista de encuestas realizadas"},r.a.createElement(ve.a,{maxWidth:!1},r.a.createElement(qe,null),r.a.createElement(y.a,{mt:3},r.a.createElement(Me,{customers:He,encuestas:this.state.dataEncuestaFormated}))))}}]),t}(n.Component),$e=t(640),Xe=t(639),Ze=t(390),ea=t.n(Ze),aa=Object(u.a)((function(e){return{root:{height:"100%"},avatar:{backgroundColor:b.a.red[600],height:56,width:56},differenceIcon:{color:b.a.red[900]},differenceValue:{color:b.a.red[900],marginRight:e.spacing(1)}}})),ta=function(e){var a=e.className,t=e.data,n=Object(S.a)(e,["className","data"]),o=aa();return r.a.createElement(ke.a,Object.assign({className:Object(j.a)(o.root,a)},n),r.a.createElement(Xe.a,null,r.a.createElement($e.a,{container:!0,justify:"space-between",spacing:3},r.a.createElement($e.a,{item:!0},r.a.createElement(C.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL ENCUESTAS \xdaLTIMOS 30 D\xcdAS"),r.a.createElement(C.a,{color:"textPrimary",variant:"h3"},null!==t?t.total_encuestas_last_month:0)),r.a.createElement($e.a,{item:!0},r.a.createElement(x.a,{className:o.avatar},r.a.createElement(ea.a,null))))))},na=t(641),ra=t(642),oa=t(643),ia=t(644),la=t(636),sa=(t(270),t(665),t(645)),ca=(t(666),t(126)),ua=t.n(ca),ma=(Object(Ye.a)(),Object(Ye.a)(),Object(Ye.a)(),Object(Ye.a)(),Object(Ye.a)(),Object(Ye.a)(),Object(u.a)((function(){return{root:{},actions:{justifyContent:"flex-end"}}})),t(646),t(647),t(391),Object(Ye.a)(),Ce()().subtract(2,"hours"),Object(Ye.a)(),Ce()().subtract(2,"hours"),Object(Ye.a)(),Ce()().subtract(3,"hours"),Object(Ye.a)(),Ce()().subtract(5,"hours"),Object(Ye.a)(),Ce()().subtract(9,"hours"),Object(u.a)({root:{height:"100%"},image:{height:48,width:48}}),t(24)),da=Object(u.a)((function(){return{root:{}}})),pa=function(e){var a=e.className,t=e.dataP,n=Object(S.a)(e,["className","dataP"]),o=da(),i=Object(ma.a)(),l=[],s=[],c=[];console.log("Recibiendo"+JSON.stringify(t)),null!==t&&t.map((function(e){l.push(e.total),s.push(e.total2),c.push(e.mes)})),console.log("#"+l),console.log("#2"+s);var u={datasets:[{backgroundColor:b.a.indigo[500],data:l,label:"Este a\xf1o"},{backgroundColor:b.a.grey[200],data:s,label:"A\xf1o pasado"}],labels:c},m={animation:!1,cornerRadius:20,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{barThickness:12,maxBarThickness:10,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:i.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:i.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:i.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:i.palette.divider}}]},tooltips:{backgroundColor:i.palette.background.default,bodyFontColor:i.palette.text.secondary,borderColor:i.palette.divider,borderWidth:1,enabled:!0,footerFontColor:i.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:i.palette.text.primary}};return r.a.createElement(ke.a,Object.assign({className:Object(j.a)(o.root,a)},n),r.a.createElement(na.a,{title:"Encuestas por mes (Comparado con a\xf1o anterior)"}),r.a.createElement(k.a,null),r.a.createElement(Xe.a,null,r.a.createElement(y.a,{height:400,position:"relative"},r.a.createElement(h.Bar,{data:u,options:m}))),r.a.createElement(k.a,null),r.a.createElement(y.a,{display:"flex",justifyContent:"flex-end",p:2},r.a.createElement(B.a,{color:"primary",endIcon:r.a.createElement(ua.a,null),size:"small",variant:"text"},"Overview")))},ha=t(392),ga=t.n(ha),ba=Object(u.a)((function(){return{root:{height:"100%"},avatar:{backgroundColor:b.a.orange[600],height:56,width:56}}})),fa=function(e){var a=e.className,t=e.data,n=Object(S.a)(e,["className","data"]),o=ba();return r.a.createElement(ke.a,Object.assign({className:Object(j.a)(o.root,a)},n),r.a.createElement(Xe.a,null,r.a.createElement($e.a,{container:!0,justify:"space-between",spacing:3},r.a.createElement($e.a,{item:!0},r.a.createElement(C.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"NUEVOS USUARIOS LOS \xdaLTIMOS 30 D\xcdAS"),r.a.createElement(C.a,{color:"textPrimary",variant:"h3"},null!==t?t.total_usuarios_last_month:0)),r.a.createElement($e.a,{item:!0},r.a.createElement(x.a,{className:o.avatar},r.a.createElement(ga.a,null))))))},va=t(393),Ea=t.n(va),ya=Object(u.a)((function(e){return{root:{height:"100%"},avatar:{backgroundColor:b.a.green[600],height:56,width:56},differenceIcon:{color:b.a.green[900]},differenceValue:{color:b.a.green[900],marginRight:e.spacing(1)}}})),xa=function(e){var a=e.className,t=e.data,n=Object(S.a)(e,["className","data"]),o=ya();return r.a.createElement(ke.a,Object.assign({className:Object(j.a)(o.root,a)},n),r.a.createElement(Xe.a,null,r.a.createElement($e.a,{container:!0,justify:"space-between",spacing:3},r.a.createElement($e.a,{item:!0},r.a.createElement(C.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL USUARIOS"),r.a.createElement(C.a,{color:"textPrimary",variant:"h3"},null!==t?t.total_usuarios:0)),r.a.createElement($e.a,{item:!0},r.a.createElement(x.a,{className:o.avatar},r.a.createElement(Ea.a,null))))))},Ca=t(394),ka=t.n(Ca),_a=Object(u.a)((function(){return{root:{height:"100%"},avatar:{backgroundColor:b.a.indigo[600],height:56,width:56}}})),wa=function(e){var a=e.className,t=e.data,n=Object(S.a)(e,["className","data"]),o=_a();return r.a.createElement(ke.a,Object.assign({className:Object(j.a)(o.root,a)},n),r.a.createElement(Xe.a,null,r.a.createElement($e.a,{container:!0,justify:"space-between",spacing:3},r.a.createElement($e.a,{item:!0},r.a.createElement(C.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL PREGUNTAS RESPONDIDAS"),r.a.createElement(C.a,{color:"textPrimary",variant:"h3"},null!==t?t.preguntas_respondidas:0)),r.a.createElement($e.a,{item:!0},r.a.createElement(x.a,{className:o.avatar},r.a.createElement(ka.a,null))))))},Oa=t(395),Sa=t.n(Oa),ja=t(397),Na=t.n(ja),Ba=t(396),Ia=t.n(Ba),Ta=Object(u.a)((function(){return{root:{height:"100%"}}})),Aa=function(e){var a=e.className,t=Object(S.a)(e,["className"]),n=Ta(),o=Object(ma.a)(),i={datasets:[{data:[63,15,22],backgroundColor:[b.a.indigo[500],b.a.red[600],b.a.orange[600]],borderWidth:8,borderColor:b.a.common.white,hoverBorderColor:b.a.common.white}],labels:["Desktop","Tablet","Mobile"]},l={animation:!1,cutoutPercentage:80,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:o.palette.background.default,bodyFontColor:o.palette.text.secondary,borderColor:o.palette.divider,borderWidth:1,enabled:!0,footerFontColor:o.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:o.palette.text.primary}},s=[{title:"Desktop",value:63,icon:Sa.a,color:b.a.indigo[500]},{title:"Tablet",value:15,icon:Ia.a,color:b.a.red[600]},{title:"Mobile",value:23,icon:Na.a,color:b.a.orange[600]}];return r.a.createElement(ke.a,Object.assign({className:Object(j.a)(n.root,a)},t),r.a.createElement(na.a,{title:"Traffic by Device"}),r.a.createElement(k.a,null),r.a.createElement(Xe.a,null,r.a.createElement(y.a,{height:300,position:"relative"},r.a.createElement(h.Doughnut,{data:i,options:l})),r.a.createElement(y.a,{display:"flex",justifyContent:"center",mt:2},s.map((function(e){var a=e.color,t=e.icon,n=e.title,o=e.value;return r.a.createElement(y.a,{key:n,p:1,textAlign:"center"},r.a.createElement(t,{color:"action"}),r.a.createElement(C.a,{color:"textPrimary",variant:"body1"},n),r.a.createElement(C.a,{style:{color:a},variant:"h2"},o,"%"))})))))},Da=te.getApiUrl(),Pa=new(function(){function e(){Object(Q.a)(this,e)}return Object(K.a)(e,[{key:"loadDashboardInfo",value:function(){return X.a.get("".concat(Da,"/encuesta/dashboard"))}},{key:"loadDashboardInfo2",value:function(){return X.a.get("".concat(Da,"/encuesta/dashboard2"))}},{key:"whoami",value:function(){return X.a.get("".concat(Da,"/usuario/whoami"))}}]),e}()),Ra=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Wa=function(){var e=Ra(),a=Object(n.useState)(null),t=Object(v.a)(a,2),o=t[0],i=t[1],l=Object(n.useState)(null),s=Object(v.a)(l,2),c=s[0],u=s[1];return Object(n.useEffect)((function(){Pa.loadDashboardInfo().then((function(e){i(e.data)})).catch((function(e){console.error(e)}))}),[]),Object(n.useEffect)((function(){Pa.loadDashboardInfo2().then((function(e){console.log(e.data),u(e.data)})).catch((function(e){console.error(e)}))}),[]),r.a.createElement(ye,{className:e.root,title:"Dashboard"},r.a.createElement(ve.a,{maxWidth:!1},r.a.createElement($e.a,{container:!0,spacing:3},r.a.createElement($e.a,{item:!0,lg:3,sm:6,xl:3,xs:12},r.a.createElement(ta,{data:o})),r.a.createElement($e.a,{item:!0,lg:3,sm:6,xl:3,xs:12},r.a.createElement(xa,{data:o})),r.a.createElement($e.a,{item:!0,lg:3,sm:6,xl:3,xs:12},r.a.createElement(fa,{data:o})),r.a.createElement($e.a,{item:!0,lg:3,sm:6,xl:3,xs:12},r.a.createElement(wa,{data:o})),r.a.createElement($e.a,{item:!0,lg:8,md:12,xl:9,xs:12},r.a.createElement(pa,{dataP:c})),r.a.createElement($e.a,{item:!0,lg:4,md:6,xl:3,xs:12},r.a.createElement(Aa,null)))))},Fa=t(29),Ua=t(93),Ma=t(425),La=new(function(){function e(){Object(Q.a)(this,e),this.cleanFormExceptThis=function(){var e=Object(J.a)(G.a.mark((function e(a,t){var n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=document.getElementById(a),r=0;r<n.elements.length;r++)console.log(n.elements[r].type),"text"===n.elements[r].type&&n.elements[r].name!==t&&(n.elements[r].value="");return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}return Object(K.a)(e,[{key:"isNull",value:function(e){return this.isNull2(e,e.name)}},{key:"isNull2",value:function(e,a){return"select-one"!==e.type||""!==e.value&&"0"!==e.value&&"-1"!==e.value?""===e.value?(this.setInvalid(e,"Este campo no puede quedar vac\xedo."+(null===a?"":" ("+a+")")),!0):(this.setValid(e),!1):(this.setInvalid(e,"Este campo no puede quedar vac\xedo."+(null===a?"":" ("+a+")")),!0)}},{key:"setValid",value:function(e){e&&(e.style&&("mdt"===e.className||"mdtR"===e.className?e.style.background="none repeat-x scroll center bottom #fffff9":e.style.background="none repeat-x scroll center bottom #FFFFFF",e.style.borderColor="#28a745",e.style.backgroundImage=""),document.getElementById(e.name+"_img")&&(document.getElementById(e.name+"_img").src="images/validated.gif"),document.getElementById(e.name+"_span")&&(document.getElementById(e.name+"_span").style.display="none"),document.getElementById(e.name)&&(document.getElementById(e.name).style.borderColor="#28a745"))}},{key:"setInvalid",value:function(e,a){void 0!==a&&""!==a||(a="Campo requerido"),document.getElementById(e.name+"_img")&&(document.getElementById(e.name+"_img").src="images/exclamation.gif"),document.getElementById(e.name+"_span")?(document.getElementById(e.name+"_span").innerHTML=a,document.getElementById(e.name+"_span").style.display="block",document.getElementById(e.name+"_span").style.fontSize="80%",document.getElementById(e.name+"_span").style.marginTop=".25rem",document.getElementById(e.name+"_span").style.color="#dc3545"):alert(a),e.style&&("mdt"===e.className||"mdtR"===e.className?e.style.background="none repeat-x scroll center bottom #ffff99":(e.style.background="none repeat-x scroll center bottom #FFFFFF",e.style.backgroundImage="url(images/invalid_line.gif)",e.style.borderColor="#dc3545",document.getElementById(e.name)&&(document.getElementById(e.name).style.borderColor="#dc3545")))}},{key:"setInvalidPrimeReact",value:function(e,a){void 0!==a&&""!==a||(a="Campo requerido"),document.getElementById(e.name+"_span")&&(document.getElementById(e.name+"_span").innerHTML=a,document.getElementById(e.name+"_span").style.display="block",document.getElementById(e.name+"_span").style.fontSize="80%",document.getElementById(e.name+"_span").style.marginTop=".25rem",document.getElementById(e.name+"_span").style.color="#dc3545"),document.getElementById(e.name)&&document.getElementById(e.name).classList.add("p-invalid")}},{key:"setValidPrimeReact",value:function(e,a){document.getElementById(e.name)&&(document.getElementById(e.name).classList.remove("p-invalid"),document.getElementById(e.name).style.borderColor="#28a745"),document.getElementById(e.name+"_span")&&(document.getElementById(e.name+"_span").style.display="none")}},{key:"isNumberPos",value:function(e){var a=!0;return""!==e.value&&0===e.value.indexOf(".")&&(e.value="0"+e.value),""===e.value?(this.setInvalid(e,"Este campo tiene que contener un n\xfamero POSITIVO."),e.value="0",a=!1):this.check_only_digits(e)||(""===e.value&&(e.value="0"),a=!1),(""!==e.value&&isNaN(e.value)||e.value.indexOf(".")!==e.value.lastIndexOf("."))&&(this.setInvalid(e,"N\xfamero no v\xe1lido. Verif\xedquelo."),e.value="0",a=!1),a&&this.setValid(e),a}},{key:"check_only_digits",value:function(e){return this.check_entry(e,"0123456789.","Solo n\xfameros positivos son aceptados. No espacio, subraya, etc...")}},{key:"check_entry",value:function(e,a,t){for(var n="yes",r="",o=0;o<e.value.length;o++)r=""+e.value.substring(o,o+1),-1===a.indexOf(r)&&(n="no");if("no"===n){r="",e.value=e.value.toUpperCase();for(var i=0;i<e.value.length;i++)"-1"===a.indexOf(e.value.charAt(i))||(r+=e.value.charAt(i));return e.value=r,this.setInvalid(e,t+" Valor modificado para hacer cumplir la regla. Verif\xedquelo!"),!1}return this.setValid(e),!0}},{key:"check_Hr",value:function(e){if(this.check_entry(e,"0123456789:","El formato de la hora no esta correcto. El formato es hh:mm. Valor modificado para hacer cumplir la regla. VERIFICALO!"),e.value.length<1||e.value.length>5||e.value.length>2&&-1===e.value.indexOf(":")||e.value.length>2&&e.value.length<5)return this.setInvalid(e,"La hora es obligatoria. El formato es hh:mm"),!1;var a=e.value.substring(0,1);e.value.length>1&&(a=e.value.substring(0,2));var t="0";return e.value.length<1&&(t="NA"),5===e.value.length&&(t=e.value.substring(3,5)),isNaN(a)||isNaN(t)||a>23||t>59?(this.setInvalid(e,"La hora es obligatoria. El formato es hh:mm"),!1):(this.setValid(e),!0)}},{key:"parseJwt",value:function(e){var a=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(a))}},{key:"getQueryVariable",value:function(e){for(var a=window.location.search.substring(1).split("&"),t=0;t<a.length;t++){var n=a[t].split("=");if(n[0]===e)return n[1]}return!1}},{key:"createMarkup",value:function(e){return{__html:e}}},{key:"validateForm",value:function(e){for(var a=document.getElementById(e),t=0;t<a.elements.length;t++)console.log(a.elements[t].required),a.elements[t].required&&(""===a.elements[t].value?(console.error("deberia llenarse: "+a.elements[t].name),this.setInvalidPrimeReact(a.elements[t])):this.setValidPrimeReact(a.elements[t]))}}]),e}()),Va=t(648),qa=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Ya=function(){var e=qa(),a=(Object(s.g)(),Object(n.useState)(!1)),t=Object(v.a)(a,2),o=t[0],i=t[1],l=Object(n.useState)(!1),c=Object(v.a)(l,2),u=c[0],m=c[1];return r.a.createElement(ye,{className:e.root,title:"Login"},r.a.createElement(y.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},r.a.createElement(ve.a,{maxWidth:"sm"},r.a.createElement(Ua.a,{initialValues:{username:"",password:""},validationSchema:Fa.b().shape({username:Fa.c().max(255).required("Usuario es requerido"),password:Fa.c().max(255).required("Contrase\xf1a es requerida")}),onSubmit:function(e,a){te.executeJwtAuthenticationService(e.username,e.password).then((function(e){var a=La.parseJwt(e.data.token).sub;te.registerSuccessfulLoginForJwt(a,e.data.token),te.setupAxiosInterceptors(te.createJWTToken(e.data.token)),window.location="/app/dashboard",!1})).catch((function(e){var a;a=String(e).indexOf("401")>0?String(e.response.data.message):String(e),m(a),i(!0),!1}))}},(function(e){var a=e.errors,t=e.handleBlur,n=e.handleChange,o=e.handleSubmit,i=e.isSubmitionCompleted,l=e.touched,s=e.values;return r.a.createElement("form",{onSubmit:o},r.a.createElement(y.a,{mb:3},r.a.createElement(C.a,{color:"textPrimary",variant:"h2"},"Iniciar Sesi\xf3n"),r.a.createElement(C.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Ingresar al sistema de encuesta")),r.a.createElement(Ma.a,{error:Boolean(l.username&&a.username),fullWidth:!0,helperText:l.username&&a.username,label:"Usuario",margin:"normal",name:"username",onBlur:t,onChange:n,type:"text",value:s.username.trim(),variant:"outlined"}),r.a.createElement(Ma.a,{error:Boolean(l.password&&a.password),fullWidth:!0,helperText:l.password&&a.password,label:"Contrase\xf1a",margin:"normal",name:"password",onBlur:t,onChange:n,type:"password",value:s.password.trim(),variant:"outlined"}),r.a.createElement(y.a,{my:2},r.a.createElement(B.a,{color:"primary",disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Ingresar")))})))),r.a.createElement(Va.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:o,onClose:function(){i(!1)},variant:"error",ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},u)}))},Ha=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),za=function(){var e=Ha();return r.a.createElement(ye,{className:e.root,title:"404"},r.a.createElement(y.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},r.a.createElement(ve.a,{maxWidth:"md"},r.a.createElement(C.a,{align:"center",color:"textPrimary",variant:"h1"},"404: The page you are looking for isn\u2019t here"),r.a.createElement(C.a,{align:"center",color:"textPrimary",variant:"subtitle2"},"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"),r.a.createElement(y.a,{textAlign:"center"},r.a.createElement("img",{alt:"Under development",className:e.image,src:"/static/images/undraw_page_not_found_su7k.svg"})),r.a.createElement(y.a,{textAlign:"center"},r.a.createElement(B.a,{variant:"outlined",color:"primary",onClick:function(e){window.location="/app/dashboard"}},"Regresar")))))},Ga=t(144),Ja=t(219),Qa=t(221),Ka=te.getApiUrl(),$a={responseType:"blob"},Xa=function(){function e(){Object(Q.a)(this,e)}return Object(K.a)(e,[{key:"findAll",value:function(){return X.a.get("".concat(Ka,"/encuesta/"))}},{key:"findById",value:function(e){return X.a.get("".concat(Ka,"/encuesta/").concat(e))}},{key:"loadReport",value:function(e,a){return X.a.post("".concat(Ka,"/reportes/").concat(e),a,$a)}},{key:"loadReportExcel",value:function(e,a){return X.a.post("".concat(Ka,"/reportes/").concat(e,"/xlsx/"),a,$a)}}]),e}(),Za=new Xa,et=t(401),at=t.n(et),tt=t(402),nt=t.n(tt),rt=t(660);function ot(e){return r.a.createElement(rt.a,Object.assign({elevation:6,variant:"filled"},e))}var it=Object(u.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function lt(e){console.log(e.setOpen);var a=it(),t=r.a.useState(e.setOpen),n=Object(v.a)(t,2),o=n[0],i=n[1];return r.a.createElement("div",{className:a.root},r.a.createElement(Va.a,{open:o,autoHideDuration:6e3,onClose:function(){return i(!1)},anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(ot,{onClose:function(){return i(!1)},severity:e.severity},e.msj)),r.a.createElement(B.a,{id:"btn-show-alert",variant:"outlined",onClick:function(){i(!0)},style:{display:"none"}},"Open success snackbar"))}var st=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(1),paddingTop:e.spacing(1)},productCard:{height:"100%"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},grid:{marginTop:15}}})),ct=function(e){var a=st(),t=Object(n.useState)(new Date),o=Object(v.a)(t,1)[0],i=Object(n.useState)(""),l=Object(v.a)(i,2),s=l[0],c=l[1],u=Object(n.useState)(!1),m=Object(v.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(""),g=Object(v.a)(h,2),b=g[0],f=g[1],E=Object(n.useState)("warning"),x=Object(v.a)(E,2),C=x[0];x[1];console.log("Recibiendo: "+e.encuestas);var _=function(e,a){Za.loadReportExcel(e,a).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=a,t.setAttribute("download","encuesta.xlsx"),document.body.appendChild(t),t.click()})).catch((function(e){console.error(e)}))},w=function(e,a){Za.loadReport(e,a).then((function(e){console.log(e.data);var a=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=a,t.setAttribute("download","encuesta.pdf"),document.body.appendChild(t),t.click()})).catch((function(e){console.error(e)}))},O=function(e){var a=document.getElementById("btn-show-alert");p(!0),f(e),a.click()};return r.a.createElement(ye,{className:a.root,title:"Reportes index"},r.a.createElement(ve.a,{maxWidth:!1},r.a.createElement(y.a,{mt:1},r.a.createElement(ke.a,{className:Object(j.a)(a.root),style:{padding:10,backgroundColor:"#BBDEFB",border:"1px solid #0D47A1"}},r.a.createElement(na.a,{title:"Reporte Todas las Encuestas",subheader:"Reporte de encuesta entre fechas"}),r.a.createElement("form",{className:a.container,noValidate:!0,autoComplete:"off"},r.a.createElement(k.a,{style:{marginBottom:5}}),r.a.createElement($e.a,{container:!0,spacing:1},r.a.createElement($e.a,{className:st.grid,item:!0,md:12,sm:12,xs:12},r.a.createElement(Ga.a,{className:st.formControl,style:{marginLeft:8,marginBottom:8}},r.a.createElement(Ja.a,{id:"demo-controlled-open-select-label"},"Encuesta"),r.a.createElement(Qa.a,{native:!0,value:s,onChange:function(e){c(e.target.value)},inputProps:{name:"encuesta",id:"encuesta"},fullWidth:!0,style:{width:"250px"}},r.a.createElement("option",{"aria-label":"None",value:""}),void 0!=e.encuestas&&e.encuestas.map((function(e){return r.a.createElement("option",{"aria-label":"None",value:e.id,label:e.nombre_encuesta})}))))),r.a.createElement($e.a,{className:st.grid,item:!0,lg:6,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{id:"fecha-inicio",label:"Fecha Inicio",type:"datetime-local",defaultValue:Ce()(o).format("YYYY-MM-DDTHH:mm"),className:a.textField,InputLabelProps:{shrink:!0},fullWidth:!0}),r.a.createElement(Ma.a,{id:"fecha-final",label:"Fecha Final",type:"datetime-local",defaultValue:Ce()(o).format("YYYY-MM-DDTHH:mm"),className:a.textField,InputLabelProps:{shrink:!0},style:{marginLeft:10},fullWidth:!0})),r.a.createElement($e.a,{className:st.grid,item:!0,lg:6,md:4,sm:6,xs:12},r.a.createElement(B.a,{variant:"contained",type:"submit",color:"secondary",name:"btn_export_pdf",style:{marginTop:20,marginLeft:10},startIcon:r.a.createElement(at.a,null),onClick:function(e){e.preventDefault();var a=Ce()(document.getElementById("fecha-inicio").value).format("YYYY-MM-DD HH:mm:ss"),t=Ce()(document.getElementById("fecha-final").value).format("YYYY-MM-DD HH:mm:ss");if(void 0===s||""===s)O("Debe Seleccionar una Encuesta primero");else{var n={fecha_inicio:a,fecha_fin:t,imagen:"logo.png",idEncuesta:s};console.log(a),w("encuesta",n)}}},"Generar PDF"),r.a.createElement(B.a,{onClick:function(e){e.preventDefault();var a=Ce()(document.getElementById("fecha-inicio").value).format("YYYY-MM-DD HH:mm:ss"),t=Ce()(document.getElementById("fecha-final").value).format("YYYY-MM-DD HH:mm:ss");if(void 0===s||""===s)O("Debe Seleccionar una Encuesta primero");else{var n={fecha_inicio:a,fecha_fin:t,imagen:"logo.png"};console.log(a),_("encuesta",n)}},variant:"contained",type:"submit",color:"secondary",style:{marginTop:20,marginLeft:10},startIcon:r.a.createElement(nt.a,null)},"Generar Excel"))))))),r.a.createElement(lt,{setOpen:d,severity:C,msj:b}))},ut=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),mt=function(){var e=ut(),a=Object(n.useState)([]),t=Object(v.a)(a,2),o=t[0],i=t[1];return Object(n.useEffect)((function(){Za.findAll().then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.error(e)}))}),[]),r.a.createElement(ye,{className:e.root,title:"Reportes"},r.a.createElement(ve.a,{maxWidth:!1},r.a.createElement($e.a,{container:!0,spacing:1},r.a.createElement($e.a,{item:!0,lg:12,sm:12,xl:12,xs:12},r.a.createElement(ct,{encuestas:o})),r.a.createElement($e.a,{item:!0,lg:12,sm:12,xl:12,xs:12},r.a.createElement(ct,null)),r.a.createElement($e.a,{item:!0,lg:12,sm:12,xl:12,xs:12},r.a.createElement(ct,null)),r.a.createElement($e.a,{lg:12,sm:12,xl:12,xs:12},r.a.createElement(ct,null)))))},dt=t(429),pt=t(649),ht=t(594),gt=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),bt=function(){var e=gt(),a=Object(s.g)();return r.a.createElement(ye,{className:e.root,title:"Register"},r.a.createElement(y.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},r.a.createElement(ve.a,{maxWidth:"sm"},r.a.createElement(Ua.a,{initialValues:{username:"",firstName:"",lastName:"",password:"",policy:!1},validationSchema:Fa.b().shape({username:Fa.c().username("Must be a valid username").max(255).required("Username is required"),firstName:Fa.c().max(255).required("First name is required"),lastName:Fa.c().max(255).required("Last name is required"),password:Fa.c().max(255).required("password is required"),policy:Fa.a().oneOf([!0],"This field must be checked")}),onSubmit:function(){a("/app/dashboard",{replace:!0})}},(function(e){var a=e.errors,t=e.handleBlur,n=e.handleChange,o=e.handleSubmit,i=e.isSubmitting,s=e.touched,c=e.values;return r.a.createElement("form",{onSubmit:o},r.a.createElement(y.a,{mb:3},r.a.createElement(C.a,{color:"textPrimary",variant:"h2"},"Create new account"),r.a.createElement(C.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use your username to create new account")),r.a.createElement(Ma.a,{error:Boolean(s.firstName&&a.firstName),fullWidth:!0,helperText:s.firstName&&a.firstName,label:"First name",margin:"normal",name:"firstName",onBlur:t,onChange:n,value:c.firstName,variant:"outlined"}),r.a.createElement(Ma.a,{error:Boolean(s.lastName&&a.lastName),fullWidth:!0,helperText:s.lastName&&a.lastName,label:"Last name",margin:"normal",name:"lastName",onBlur:t,onChange:n,value:c.lastName,variant:"outlined"}),r.a.createElement(Ma.a,{error:Boolean(s.username&&a.username),fullWidth:!0,helperText:s.username&&a.username,label:"Username Address",margin:"normal",name:"username",onBlur:t,onChange:n,type:"username",value:c.username,variant:"outlined"}),r.a.createElement(Ma.a,{error:Boolean(s.password&&a.password),fullWidth:!0,helperText:s.password&&a.password,label:"Password",margin:"normal",name:"password",onBlur:t,onChange:n,type:"password",value:c.password,variant:"outlined"}),r.a.createElement(y.a,{alignItems:"center",display:"flex",ml:-1},r.a.createElement(dt.a,{checked:c.policy,name:"policy",onChange:n}),r.a.createElement(C.a,{color:"textSecondary",variant:"body1"},"I have read the"," ",r.a.createElement(pt.a,{color:"primary",component:l.b,to:"#",underline:"always",variant:"h6"},"Terms and Conditions"))),Boolean(s.policy&&a.policy)&&r.a.createElement(ht.a,{error:!0},a.policy),r.a.createElement(y.a,{my:2},r.a.createElement(B.a,{color:"primary",disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign up now")),r.a.createElement(C.a,{color:"textSecondary",variant:"body1"},"Have an account?"," ",r.a.createElement(pt.a,{component:l.b,to:"/login",variant:"h6"},"Sign in")))})))))},ft=t(595),vt=(Object(u.a)({root:{},item:{display:"flex",flexDirection:"column"}}),t(82)),Et=(Object(u.a)({root:{}}),t(650)),yt=t(652),xt=t(651),Ct=t(655),kt=t(654),_t=te.getApiUrl(),wt=function(){function e(){Object(Q.a)(this,e)}return Object(K.a)(e,[{key:"findAll",value:function(){return X.a.get("".concat(_t,"/encuesta/"))}},{key:"findById",value:function(e){return X.a.get("".concat(_t,"/encuesta/").concat(e))}},{key:"save",value:function(e){return X.a.post("".concat(_t,"/encuesta/"),e)}},{key:"update",value:function(e,a){return X.a.put("".concat(_t,"/encuesta/").concat(e),a)}},{key:"findByIdEncuesta",value:function(e){return X.a.get("".concat(_t,"/categoria-pregunta/encuesta/").concat(e))}},{key:"saveEncuesta",value:function(e){return X.a.post("".concat(_t,"/categoria-pregunta/"),e)}},{key:"findByIdCategoria",value:function(e){return X.a.get("".concat(_t,"/pregunta/categoria/").concat(e))}},{key:"savePregunta",value:function(e){return X.a.post("".concat(_t,"/pregunta/"),e)}},{key:"findByIdPregunta",value:function(e){return X.a.get("".concat(_t,"/respuesta/pregunta/").concat(e))}},{key:"saveRespuetas",value:function(e){return X.a.post("".concat(_t,"/respuesta/"),e)}}]),e}(),Ot=new wt,St=t(256),jt=t(46),Nt=t(658);function Bt(e){var a=r.a.useState(new Date),t=Object(v.a)(a,2);t[0],t[1];return r.a.createElement(jt.a,{utils:St.a},r.a.createElement($e.a,{container:!0,justify:"space-around"},r.a.createElement(Nt.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"fecha_ecnuesta",label:"Fecha Encuesta",value:e.date,onChange:function(a){return e.handleDateChange(a)},KeyboardButtonProps:{"aria-label":"Cambiar fecha"}})))}var It=t(669),Tt=Object(u.a)({root:{},item:{display:"flex",flexDirection:"column"}}),At=function(e){Object(be.a)(t,e);var a=Object(fe.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).state={arrayEncuestas:[],idEncuesta:"",open:!1,nombre_encuesta:"",descripcion:"",fecha_encuesta:new Date,nombre:"",order:1,openCat:!1,idCategoria:"",arrayCategoria:[],openPreg:!1,idPregunta:"",arrayPreguntas:[],nombre_pregunta:"",order_pregunta:1,nombre_respuesta:"",order_respuesta:1,arrayRespuestas:[],idRespuesta:"",openResp:!1},n}return Object(K.a)(t,[{key:"componentDidMount",value:function(){this.loadAllEncuestas()}},{key:"loadAllEncuestas",value:function(){var e=this;Ot.findAll().then((function(a){console.log(a.data),e.setState({arrayEncuestas:a.data})})).catch((function(e){console.error(e)}))}},{key:"loadCategoriaByIdEncuesta",value:function(e){var a=this;Ot.findByIdEncuesta(e).then((function(e){console.log(e.data),a.setState({arrayCategoria:e.data})})).catch((function(e){console.error(e),a.setState({arrayCategoria:[]})}))}},{key:"loadPreguntaByIdCategoria",value:function(e){var a=this;Ot.findByIdCategoria(e).then((function(e){console.log(e.data),a.setState({arrayPreguntas:e.data})})).catch((function(e){console.error(e),a.setState({arrayPreguntas:[]})}))}},{key:"loadRespuestasByIdPregunta",value:function(e){var a=this;Ot.findByIdPregunta(e).then((function(e){console.log(e.data),a.setState({arrayRespuestas:e.data})})).catch((function(e){console.error(e),a.setState({arrayRespuestas:[]})}))}},{key:"ShowAlert",value:function(e){var a=document.getElementById("btn-show-alert");this.setState({openAlert:!0,msj:e+" no puede ser vac\xedo!",severity:"warning"}),a.click()}},{key:"handleChange",value:function(e){this.setState({idEncuesta:e.target.value}),this.loadCategoriaByIdEncuesta(parseInt(e.target.value)),this.setState({arrayPreguntas:[],arrayRespuestas:[]})}},{key:"handleChangeCategoria",value:function(e){this.setState({idCategoria:e.target.value}),this.loadPreguntaByIdCategoria(parseInt(e.target.value)),this.setState({arrayRespuestas:[]})}},{key:"handleChangePregunta",value:function(e){this.setState({idPregunta:e.target.value}),this.loadRespuestasByIdPregunta(parseInt(e.target.value))}},{key:"handleChangeRespuesta",value:function(e){this.setState({idRespuesta:e.target.value})}},{key:"renderOptsSelect",value:function(){return this.state.arrayEncuestas.map((function(e){return r.a.createElement("option",{value:e.id},e.nombre_encuesta)}))}},{key:"renderOptsSelectCategoria",value:function(){return this.state.arrayCategoria.map((function(e){return r.a.createElement("option",{value:e.id_categoria},e.nombre)}))}},{key:"renderOptsSelectPregunta",value:function(){return this.state.arrayPreguntas.map((function(e){return r.a.createElement("option",{value:e.id_pregunta},e.nombre_pregunta)}))}},{key:"renderOptsSelectRespuesta",value:function(){return this.state.arrayRespuestas.map((function(e){return r.a.createElement("option",{value:e.id_respuesta},e.nombre_respuesta)}))}},{key:"handleClose",value:function(e){this.setState({open:!1,openCat:!1,openPreg:!1,openResp:!1})}},{key:"onClickNueva",value:function(e){this.setState({open:!0})}},{key:"onClickNuevaCategoria",value:function(e){this.setState({openCat:!0})}},{key:"onClickNuevaPregunta",value:function(e){this.setState({openPreg:!0})}},{key:"onClickNuevaRespuesta",value:function(e){this.setState({openResp:!0})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),""===this.state.nombre_encuesta)this.ShowAlert("Nombre de encuesta");else if(""===this.state.descripcion)this.ShowAlert("Descripcion");else{var a={nombre_encuesta:this.state.nombre_encuesta,descripcion:this.state.descripcion,fecha_encuesta:Ce()(new Date(this.state.fecha_encuesta)).format("YYYY-MM-DD HH:mm:ss")};this.save(a)}}},{key:"handleSubmitCategoria",value:function(e){if(e.preventDefault(),""!==this.state.idEncuesta)if(""===this.state.nombre)this.ShowAlert("Nombre de categoria");else if(""===this.state.order)this.ShowAlert("Orden");else{var a={nombre:this.state.nombre,order:this.state.order,id_encuesta:this.state.idEncuesta};this.saveEncuesta(a)}else this.ShowAlert("Encuesta")}},{key:"handleSubmitPregunta",value:function(e){if(e.preventDefault(),""!==this.state.idCategoria)if(""===this.state.nombre_pregunta)this.ShowAlert("Nombre de pregunta");else if(""===this.state.order_pregunta)this.ShowAlert("Orden");else{var a={nombre_pregunta:this.state.nombre_pregunta,order:this.state.order_pregunta,id_categoria:{id_categoria:this.state.idCategoria}};this.savePregunta(a)}else this.ShowAlert("Categoria")}},{key:"handleSubmitRespuesta",value:function(e){if(e.preventDefault(),""!==this.state.idPregunta)if(""===this.state.nombre_respuesta)this.ShowAlert("Nombre de Respuesta");else if(""===this.state.order_respuesta)this.ShowAlert("Orden de respuesta");else{var a={nombre_respuesta:this.state.nombre_respuesta,order:this.state.order_respuesta,id_pregunta:{id_pregunta:this.state.idPregunta}};this.saveRespuesta(a)}else this.ShowAlert("Pregunta")}},{key:"saveRespuesta",value:function(e){var a=this,t=document.getElementById("btn-show-alert");Ot.saveRespuetas(e).then((function(e){console.log(e.data),a.setState({openAlert:!0,msj:"Guardado correctamente!",severity:"success"}),t.click(),a.loadRespuestasByIdPregunta(a.state.idPregunta),a.clearFieldsRespuestas()})).catch((function(e){console.error(It.a)}))}},{key:"savePregunta",value:function(e){var a=this,t=document.getElementById("btn-show-alert");Ot.savePregunta(e).then((function(e){console.log(e.data),a.setState({openAlert:!0,msj:"Guardado correctamente!",severity:"success"}),t.click(),a.loadPreguntaByIdCategoria(a.state.idCategoria),a.clearFieldsPreguntas()})).catch((function(e){console.error(It.a)}))}},{key:"saveEncuesta",value:function(e){var a=this,t=document.getElementById("btn-show-alert");Ot.saveEncuesta(e).then((function(e){console.log(e.data),a.setState({openAlert:!0,msj:"Guardado correctamente!",severity:"success"}),t.click(),a.loadCategoriaByIdEncuesta(a.state.idEncuesta),a.clearFieldsEncuesta()})).catch((function(e){console.error(It.a)}))}},{key:"save",value:function(e){var a=this,t=document.getElementById("btn-show-alert");Ot.save(e).then((function(e){console.log(e.data),a.setState({openAlert:!0,msj:"Guardado correctamente!",severity:"success"}),t.click(),a.loadAllEncuestas(),a.clearFields()})).catch((function(e){console.error(It.a)}))}},{key:"clearFields",value:function(){this.setState({nombre_encuesta:"",descripcion:"",fecha_encuesta:new Date,open:!1})}},{key:"clearFieldsEncuesta",value:function(){this.setState({nombre:"",order:"",openCat:!1})}},{key:"clearFieldsPreguntas",value:function(){this.setState({nombre_pregunta:"",order_pregunta:"",openPreg:!1})}},{key:"clearFieldsRespuestas",value:function(){this.setState({nombre_respuesta:"",order_respuesta:"",openResp:!1})}},{key:"handleDateChange",value:function(e){console.log(e),this.setState({fecha_encuesta:new Date(e)})}},{key:"onChangeText",value:function(e){console.log(e.target),this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement(ke.a,null,r.a.createElement(na.a,{subheader:"Manejar Encuestas",title:"Encuesta"}),r.a.createElement(Xe.a,null,r.a.createElement($e.a,{container:!0,spacing:6,wrap:"wrap"},r.a.createElement($e.a,{className:Tt.item,item:!0,md:12,sm:12,xs:12},r.a.createElement(Ga.a,{className:Tt.formControl},r.a.createElement(Ja.a,{id:"demo-controlled-open-select-label"},"Encuesta"),r.a.createElement(Qa.a,{native:!0,value:this.state.idEncuesta,onChange:this.handleChange.bind(this),inputProps:{name:"encuesta",id:"encuesta"},fullWidth:!0,style:{width:"250px"}},r.a.createElement("option",{"aria-label":"None",value:""}),this.renderOptsSelect())),r.a.createElement(Ga.a,null,r.a.createElement(B.a,{variant:"contained",color:"secondary",style:{marginTop:10,marginLeft:10},onClick:this.onClickNueva.bind(this)},"Nueva"))),r.a.createElement($e.a,{className:Tt.item,item:!0,md:12,sm:12,xs:12},r.a.createElement(Ga.a,{className:Tt.formControl},r.a.createElement(Ja.a,{id:"demo-controlled-open-select-label"},"Categoria de pregunta"),r.a.createElement(Qa.a,{native:!0,value:this.state.idCategoria,onChange:this.handleChangeCategoria.bind(this),inputProps:{name:"categoria",id:"categoria"},fullWidth:!0,style:{width:"250px"}},r.a.createElement("option",{"aria-label":"None",value:""}),this.renderOptsSelectCategoria())),r.a.createElement(Ga.a,null,r.a.createElement(B.a,{variant:"contained",color:"secondary",style:{marginTop:10,marginLeft:10},onClick:this.onClickNuevaCategoria.bind(this)},"Nueva"))),r.a.createElement($e.a,{className:Tt.item,item:!0,md:12,sm:12,xs:12},r.a.createElement(Ga.a,{className:Tt.formControl},r.a.createElement(Ja.a,{id:"demo-controlled-open-select-label"},"Pregunta"),r.a.createElement(Qa.a,{native:!0,value:this.state.idPregunta,onChange:this.handleChangePregunta.bind(this),inputProps:{name:"pregunta",id:"pregunta"},fullWidth:!0,style:{width:"250px"}},r.a.createElement("option",{"aria-label":"None",value:""}),this.renderOptsSelectPregunta())),r.a.createElement(Ga.a,null,r.a.createElement(B.a,{variant:"contained",color:"secondary",style:{marginTop:10,marginLeft:10},onClick:this.onClickNuevaPregunta.bind(this)},"Nueva"))),r.a.createElement($e.a,{className:Tt.item,item:!0,md:12,sm:12,xs:12},r.a.createElement(Ga.a,{className:Tt.formControl},r.a.createElement(Ja.a,{id:"demo-controlled-open-select-label"},"Respuesta"),r.a.createElement(Qa.a,{native:!0,value:this.state.idRespuesta,onChange:this.handleChangeRespuesta.bind(this),inputProps:{name:"respuesta",id:"respuesta"},fullWidth:!0,style:{width:"250px"}},r.a.createElement("option",{"aria-label":"None",value:""}),this.renderOptsSelectRespuesta())),r.a.createElement(Ga.a,null,r.a.createElement(B.a,{variant:"contained",color:"secondary",style:{marginTop:10,marginLeft:10},onClick:this.onClickNuevaRespuesta.bind(this)},"Nueva")))),r.a.createElement(Et.a,{open:this.state.open,onClose:this.handleClose.bind(this),"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),noValidate:!0,autoComplete:"off"},r.a.createElement(kt.a,{id:"form-dialog-title"},"Encuesta"),r.a.createElement(xt.a,null,r.a.createElement(Ct.a,null,"Crear nueva encuesta es un proceso Administrativo y cr\xedtico del sistema, es su responsabilidad la correcta definici\xf3n y configuraci\xf3n de las mismas."),r.a.createElement(Ma.a,{autoFocus:!0,margin:"dense",id:"nombre_encuesta",name:"nombre_encuesta",label:"Nombre",type:"text",value:this.state.nombre_encuesta,onChange:this.onChangeText.bind(this),fullWidth:!0}),r.a.createElement(Ma.a,{margin:"dense",id:"descripcion",name:"descripcion",label:"Descripcion",type:"text",value:this.state.descripcion,fullWidth:!0,onChange:this.onChangeText.bind(this)}),r.a.createElement(Bt,{date:this.state.fecha_encuesta,handleDateChange:this.handleDateChange})),r.a.createElement(yt.a,null,r.a.createElement(B.a,{variant:"contained",color:"primary",type:"submit"},"Guardar"),r.a.createElement(B.a,{onClick:this.handleClose.bind(this),color:"primary"},"Cancelar")))),r.a.createElement(Et.a,{open:this.state.openCat,onClose:this.handleClose.bind(this),"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:this.handleSubmitCategoria.bind(this),noValidate:!0,autoComplete:"off"},r.a.createElement(kt.a,{id:"form-dialog-title"},"Categoria de Encuestas"),r.a.createElement(xt.a,null,r.a.createElement(Ct.a,null,"Administraci\xf3n de categorias de preguntas."),r.a.createElement(Ma.a,{autoFocus:!0,margin:"dense",id:"nombre",name:"nombre",label:"Nombre",type:"text",value:this.state.nombre,onChange:this.onChangeText.bind(this),fullWidth:!0}),r.a.createElement(Ma.a,{autoFocus:!0,margin:"dense",id:"order",name:"order",label:"Orden",type:"number",value:this.state.order,onChange:this.onChangeText.bind(this),fullWidth:!0})),r.a.createElement(yt.a,null,r.a.createElement(B.a,{variant:"contained",color:"primary",type:"submit"},"Guardar"),r.a.createElement(B.a,{onClick:this.handleClose.bind(this),color:"primary"},"Cancelar")))),r.a.createElement(Et.a,{open:this.state.openPreg,onClose:this.handleClose.bind(this),"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:this.handleSubmitPregunta.bind(this),noValidate:!0,autoComplete:"off"},r.a.createElement(kt.a,{id:"form-dialog-title"},"Pregunta"),r.a.createElement(xt.a,null,r.a.createElement(Ct.a,null,"Administraci\xf3n de Preguntas."),r.a.createElement(Ma.a,{autoFocus:!0,margin:"dense",id:"nombre_pregunta",name:"nombre_pregunta",label:"Pregunta",type:"text",value:this.state.nombre_pregunta,onChange:this.onChangeText.bind(this),fullWidth:!0}),r.a.createElement(Ma.a,{margin:"dense",id:"order_pregunta",name:"order_pregunta",label:"Orden",type:"number",value:this.state.order_pregunta,onChange:this.onChangeText.bind(this),fullWidth:!0})),r.a.createElement(yt.a,null,r.a.createElement(B.a,{variant:"contained",color:"primary",type:"submit"},"Guardar"),r.a.createElement(B.a,{onClick:this.handleClose.bind(this),color:"primary"},"Cancelar")))),r.a.createElement(Et.a,{open:this.state.openResp,onClose:this.handleClose.bind(this),"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:this.handleSubmitRespuesta.bind(this),noValidate:!0,autoComplete:"off"},r.a.createElement(kt.a,{id:"form-dialog-title"},"Respuesta"),r.a.createElement(xt.a,null,r.a.createElement(Ct.a,null,"Administraci\xf3n de Respuestas."),r.a.createElement(Ma.a,{autoFocus:!0,margin:"dense",id:"nombre_respuesta",name:"nombre_respuesta",label:"Respuesta",type:"text",value:this.state.nombre_respuesta,onChange:this.onChangeText.bind(this),fullWidth:!0}),r.a.createElement(Ma.a,{margin:"dense",id:"order_respuesta",name:"order_respuesta",label:"Orden",type:"number",value:this.state.order_respuesta,onChange:this.onChangeText.bind(this),fullWidth:!0})),r.a.createElement(yt.a,null,r.a.createElement(B.a,{variant:"contained",color:"primary",type:"submit"},"Guardar"),r.a.createElement(B.a,{onClick:this.handleClose.bind(this),color:"primary"},"Cancelar"))))),r.a.createElement(lt,{setOpen:this.state.openAlert,severity:this.state.severity,msj:this.state.msj}))}}]),t}(n.Component),Dt=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Pt=function(){var e=Dt();return r.a.createElement(ye,{className:e.root,title:"Settings"},r.a.createElement(ve.a,{maxWidth:"lg"},r.a.createElement(At,null)))},Rt=t(421),Wt=t.n(Rt),Ft=function(e){Object(be.a)(t,e);var a=Object(fe.a)(t);function t(){return Object(Q.a)(this,t),a.apply(this,arguments)}return Object(K.a)(t,[{key:"componentDidMount",value:function(){te.logout(),window.location="/login"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container",style:{textAlign:"center",marginTop:50}},r.a.createElement("h1",null,"Estas saliendo de la aplicacion de encuesta"),r.a.createElement("p",null,"Gracias por usar nuestra aplicaci\xf3n. "),r.a.createElement(Wt.a,{fontSize:"large"})))}}]),t}(n.Component),Ut=t(112),Mt=t(592),Lt=t(661),Vt=t(656),qt=t(97),Yt=t(657),Ht=Object(u.a)({root:{backgroundColor:"red",color:function(e){return e.color}},formControl:{display:"block",width:"100 %",padding:".375rem .75rem",fontSize:"1rem",lineHeight:"1.5",color:"#495057",backgrounColor:"#fff",backgroundClip:"padding - box",border:"1px solid #ced4da",borderRadius:".25rem",transition:"border - color .15s ease -in -out, box - shadow .15s ease -in -out"}});function zt(e){var a=Ht(e);return console.log(e),r.a.createElement("input",{type:"text",className:a.formControl,name:e.name,style:{width:"50%"},id:e.id,onChange:function(a){return e.onChanteText(a)},value:e.value})}var Gt=La.getQueryVariable("action"),Jt=function(e){Object(be.a)(t,e);var a=Object(fe.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).useStyles2=Object(u.a)((function(e){return{root:{backgroundColor:"black",minHeight:"20px",paddingBottom:e.spacing(3),paddingTop:e.spacing(3),paddingLeft:10},root2:Object(vt.a)({},e.typography),paper:{padding:e.spacing(3),textAlign:"center",color:e.palette.text.secondary},formControl:{display:"block",width:"100 %",padding:".375rem .75rem",fontSize:"1rem",lineHeight:"1.5",color:"#495057",backgrounColor:"#fff",backgroundClip:"padding - box",border:"1px solid #ced4da",borderRadius:".25rem",transition:"border - color .15s ease -in -out, box - shadow .15s ease -in -out"}}})),n.onclickPermiso=function(e){alert(e)},n.state={infoEncuesta:{},preguntas:[],items:[],respuestas:[],isError:!1,helperText:"",nombre_usuario:"",nombre_puesto:"",direccion_puesto:"",openAlert:!1,msj:"",severity:"info"},n}return Object(K.a)(t,[{key:"componentDidMount",value:function(){var e=null;"update"===La.getQueryVariable("action")&&(e=La.getQueryVariable("id"),this.loadEncuestaInfo(e),this.loadPreguntasByIdEncuesta(e),this.loadRespuestaByIdPedido(e)),console.log("action: "+Gt),console.log("id: "+e)}},{key:"loadEncuestaInfo",value:function(e){var a=this;Je.findById(e).then((function(e){console.log(e.data),a.setState({infoEncuesta:e.data}),a.setState({nombre_usuario:a.state.infoEncuesta.nombre_usuario,nombre_puesto:a.state.infoEncuesta.nombre_puesto,direccion_puesto:a.state.infoEncuesta.direccion_puesto})})).catch((function(e){console.error(e)}))}},{key:"loadPreguntasByIdEncuesta",value:function(e){var a=this;Je.findPreguntasById(e).then((function(e){console.info("loadPreguntasByIdEncuesta>"),console.log(e.data),a.setState({preguntas:e.data}),setTimeout((function(){console.log(a.state.infoEncuesta.preguntas)}),3e3),a.fillDataPreguntas(e.data)})).catch((function(e){console.error(e)}))}},{key:"loadRespuestaByIdPedido",value:function(e){var a=this;Je.findRespuestasById(e).then((function(e){console.info("loadRespuestaByIdPedido>"),console.log(e.data),a.setState({respuestas:e.data})})).catch((function(e){console.error(e)}))}},{key:"fillDataPreguntas",value:function(e){var a=e.reduce((function(e,a){return e[a.categoria]=e[a.categoria]||[],e[a.categoria].includes(a.id_pregunta)||e[a.categoria].push({id_pregunta:a.id_pregunta,last_user:a.last_user,nombre_pregunta:a.nombre_pregunta,estado:a.estado,categoria:a.categoria,id_respuesta_selected:a.id_respuesta_selected}),e}),{});console.info("jerarquia>"),console.log(a);var t=[];for(var n in a)t.push([n,a[n]]);console.log(t),this.setState({items:t})}},{key:"makeDataTable",value:function(e){var a=[];for(var t in e)a.push([t,e[t]]);console.log(a),this.setState({items:a})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),""===this.state.nombre_usuario)this.ShowAlert("Nombre Usuario");else if(""===this.state.nombre_puesto)this.ShowAlert("Nombre Puesto");else if(""===this.state.direccion_puesto)this.ShowAlert("Direcci\xf3n Puesto");else{var a=La.getQueryVariable("id"),t={nombre_usuario:this.state.nombre_usuario,nombre_puesto:this.state.nombre_puesto,direccion_puesto:this.state.direccion_puesto,id:a};this.update(a,t)}}},{key:"update",value:function(e,a){var t=this,n=document.getElementById("btn-show-alert");Je.updatePedido(e,a).then((function(e){console.log(e),t.setState({openAlert:!0,msj:"Modificado correctamente!",severity:"success"}),n.click()})).catch((function(e){console.error(e),t.setState({openAlert:!0,msj:e,severity:"error"}),n.click()}))}},{key:"ShowAlert",value:function(e){var a=document.getElementById("btn-show-alert");this.setState({openAlert:!0,msj:e+" no puede ser vac\xedo!",severity:"warning"}),a.click()}},{key:"onChanteText",value:function(e){console.log(e.target),this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=Gt,a=this.useStyles2;return r.a.createElement(ye,{className:a.root,title:"Encuesta"},r.a.createElement(ve.a,{maxWidth:!1},r.a.createElement(y.a,{mt:3},r.a.createElement(ke.a,{className:Object(j.a)(a.root2),style:{padding:10}},r.a.createElement(na.a,{subheader:"Ficha de Identificaci\xf3n del Usuario/Puesto",title:"update"!==e?"Crear encuesta":"Editar Solicitd"}),r.a.createElement(k.a,null),"new"===e&&r.a.createElement(Ua.a,{initialValues:{nombre_usuario:"",nombre_puesto:"",direccion_puesto:"",id_encuesta:1,referencia:"",censo:"",dui:"",nit:"",edad:"",telefono:"",asociacion:1,actividad_comercial:1,largo:0,ancho:0,nombre_beneficiario:"",direccion_beneficiario:"",dui_beneficiario:"",nit_beneficiario:"",telefono_beneficiario:"",permiso:!1,cep:"",fecha_inicio:new Date,fecha_fin:new Date},validationSchema:Fa.b().shape({nombre_usuario:Fa.c().max(255).required("Usuario es requerido"),nombre_puesto:Fa.c().max(255).required("Puesto es requerida"),direccion_puesto:Fa.c().max(255).required("Direccion Puesto es requerida")}),onSubmit:function(e,a){console.log(e),Je.save(e).then((function(e){console.log(e.data),window.location="encuesta?action=update&id="+e.data.id})).catch((function(e){console.error(e)}))}},(function(e){var t=e.errors,n=e.handleBlur,o=e.handleChange,i=e.handleSubmit,l=(e.setFieldValue,e.isSubmitionCompleted),s=e.touched,c=e.values;return r.a.createElement("form",{onSubmit:i},r.a.createElement($e.a,{container:!0,spacing:2,wrap:"wrap"},r.a.createElement($e.a,{className:a.item,item:!0,md:6,sm:6,xs:12},r.a.createElement(Ma.a,{error:Boolean(s.nombre_usuario&&t.nombre_usuario),fullWidth:!0,helperText:s.nombre_usuario&&t.nombre_usuario,label:"Nombre de usuario",margin:"dense",name:"nombre_usuario",onBlur:n,onChange:o,type:"text",value:c.nombre_usuario,variant:"outlined"}),r.a.createElement(Ma.a,{error:Boolean(s.nombre_puesto&&t.nombre_puesto),fullWidth:!0,helperText:s.nombre_puesto&&t.nombre_puesto,label:"Nombre del puesto",margin:"dense",name:"nombre_puesto",onBlur:n,onChange:o,type:"text",value:c.nombre_puesto,variant:"outlined"}),r.a.createElement(Ma.a,{error:Boolean(s.direccion_puesto&&t.direccion_puesto),fullWidth:!0,helperText:s.direccion_puesto&&t.direccion_puesto,label:"Direcci\xf3n del puesto",margin:"dense",name:"direccion_puesto",onBlur:n,onChange:o,type:"text",value:c.direccion_puesto,variant:"outlined"}))),r.a.createElement($e.a,{container:!0,spacing:2,wrap:"wrap"},r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"No. Referencia",margin:"dense",name:"referencia",onBlur:n,onChange:o,type:"text",value:c.referencia,variant:"outlined"})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Censo",margin:"dense",name:"censo",onBlur:n,onChange:o,type:"text",value:c.censo,variant:"outlined"})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:4,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"DUI",margin:"dense",name:"dui",onBlur:n,onChange:o,type:"text",value:c.dui,variant:"outlined"})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"NIT",margin:"dense",name:"nit",onBlur:n,onChange:o,type:"text",value:c.nit,variant:"outlined"})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Edad",margin:"dense",name:"edad",onBlur:n,onChange:o,type:"text",value:c.edad,variant:"outlined",disabled:!0})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Telefono",margin:"dense",name:"telefono",onBlur:n,onChange:o,type:"text",value:c.telefono,variant:"outlined"})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ga.a,{style:{width:"100%"},variant:"outlined",className:a.formControl},r.a.createElement(Ja.a,{id:"demo-simple-select-outlined-label"},"Asociacion"),r.a.createElement(Qa.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:c.asociacion,onChange:o,label:"Asociacion",fullWidth:!0,margin:"dense"},r.a.createElement(Ut.a,{value:1},"No especificada")))),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ga.a,{style:{width:"100%"},variant:"outlined",className:a.formControl},r.a.createElement(Ja.a,{id:"demo-simple-select-outlined-label"},"Actividad Comercial"),r.a.createElement(Qa.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:c.actividad_comercial,onChange:o,label:"Actividad Comercial",fullWidth:!0,margin:"dense"},r.a.createElement(Ut.a,{value:1},"No especificada"))))),r.a.createElement(y.a,{my:2,style:{}},r.a.createElement("fieldset",{style:{borderRadius:3,borderColor:"rgba(0, 0, 0, 0.12)",padding:3}},r.a.createElement("legend",{style:{margin:5}},"Espacio p\xfablico:"),r.a.createElement($e.a,{container:!0,spacing:2,wrap:"wrap"},r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Largo",margin:"dense",name:"largo",onBlur:n,onChange:o,type:"text",value:c.largo,variant:"outlined",style:{margin:10}})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Ancho",margin:"dense",name:"ancho",onBlur:n,onChange:o,type:"text",value:c.ancho,variant:"outlined",style:{margin:10}}))))),r.a.createElement(y.a,{my:2,style:{}},r.a.createElement("fieldset",{style:{borderRadius:3,borderColor:"rgba(0, 0, 0, 0.12)",padding:3}},r.a.createElement("legend",{style:{margin:5}},"Beneficiario:"),r.a.createElement($e.a,{container:!0,spacing:2,wrap:"wrap"},r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Nombre beneficiario",margin:"dense",name:"nombre_beneficiario",onBlur:n,onChange:o,type:"text",value:c.nombre_beneficiario,variant:"outlined"})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Direccion beneficiario",margin:"dense",name:"direccion_beneficiario",onBlur:n,onChange:o,type:"text",value:c.direccion_beneficiario,variant:"outlined"})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"DUI beneficiario",margin:"dense",name:"dui_beneficiario",onBlur:n,onChange:o,type:"text",value:c.dui_beneficiario,variant:"outlined"})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"NIT beneficiario",margin:"dense",name:"nit_beneficiario",onBlur:n,onChange:o,type:"text",value:c.nit_beneficiario,variant:"outlined",inputProps:{maxLength:15}})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Telefono beneficiario",margin:"dense",name:"telefono_beneficiario",onBlur:n,onChange:o,type:"text",value:c.telefono_beneficiario,variant:"outlined"}))))),r.a.createElement($e.a,{container:!0,spacing:2,wrap:"wrap"},r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(ft.a,{value:c.permiso,control:r.a.createElement(dt.a,{name:"permiso",color:"primary",checked:c.permiso,onChange:o}),label:"\xbfTiene permiso de comercializaci\xf3n?",labelPlacement:"start"}))),r.a.createElement(y.a,{my:2,id:"box-permiso",style:c.permiso?{}:{display:"none"}},r.a.createElement("fieldset",{style:{borderRadius:3,borderColor:"rgba(0, 0, 0, 0.12)",padding:3}},r.a.createElement("legend",{style:{margin:5}},"Permiso:"),r.a.createElement($e.a,{container:!0,spacing:2,wrap:"wrap"},r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"EXP. CEP",margin:"dense",name:"cep",onBlur:n,onChange:o,type:"text",value:c.cep,variant:"outlined"})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ga.a,{style:{width:"100%"},variant:"outlined",className:a.formControl},r.a.createElement(Ja.a,{id:"demo-simple-select-outlined-label"},"Actividad Comercial"),r.a.createElement(Qa.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:1,onChange:o,label:"Delegaci\xf3n distrital",fullWidth:!0,margin:"dense"},r.a.createElement(Ut.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Ut.a,{value:2},"Distrito 1"),r.a.createElement(Ut.a,{value:3},"Distrito 2"),r.a.createElement(Ut.a,{value:4},"Distrito 3")))),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{id:"fecha_inicio",label:"Fecha Inicio",type:"date",defaultValue:Ce()(new Date(c.fecha_inicio)).format("YYYY-MM-DD"),className:a.textField,InputLabelProps:{shrink:!0}})),r.a.createElement($e.a,{className:a.item,item:!0,md:4,sm:6,xs:12},r.a.createElement(Ma.a,{id:"fecha_fin",label:"Fecha Fin",type:"date",defaultValue:Ce()(new Date(c.fecha_fin)).format("YYYY-MM-DD"),className:a.textField,InputLabelProps:{shrink:!0}}))))),r.a.createElement(y.a,{my:2},r.a.createElement(B.a,{color:"primary",disabled:l,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Guardar")))})),"update"===e&&e.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{variant:"body1",gutterBottom:!0},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),noValidate:!0,autoComplete:"off"},r.a.createElement(Mt.a,{style:{display:"inline!important",margin:10},component:"legend"},"Nombre Usuario:"),r.a.createElement(zt,{style:{display:"inline!important"},value:this.state.nombre_usuario,name:"nombre_usuario",id:"nombre_usuario",onChanteText:this.onChanteText.bind(this)}),r.a.createElement(Mt.a,{style:{display:"inline!important",margin:10},component:"legend"},"Nombre Puesto:"),r.a.createElement(zt,{value:this.state.nombre_puesto,name:"nombre_puesto",id:"nombre_puesto",onChanteText:this.onChanteText.bind(this)}),r.a.createElement(Mt.a,{style:{display:"inline!important",margin:10},component:"legend"},"Direcci\xf3n Puesto:"),r.a.createElement(zt,{value:this.state.direccion_puesto,name:"direccion_puesto",id:"direccion_puesto",onChanteText:this.onChanteText.bind(this)}),r.a.createElement(Qt,{items:this.state.items,respuestas:this.state.respuestas}),r.a.createElement($e.a,{container:!0,spacing:3,style:{margin:10}},r.a.createElement($e.a,{item:!0,xs:12,sm:6,md:6},r.a.createElement(B.a,{variant:"contained",color:"primary",type:"submit"},"Guardar"),r.a.createElement(B.a,{variant:"contained",color:"secondary",style:{marginLeft:5},onClick:function(e){return window.location="/app/customers"}},"Cancelar"))),r.a.createElement(lt,{setOpen:this.state.openAlert,severity:this.state.severity,msj:this.state.msj}))))))))}}]),t}(n.Component),Qt=function(e){Object(be.a)(t,e);var a=Object(fe.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).state={},n}return Object(K.a)(t,[{key:"makeAnswers",value:function(e){var a=String(e.target.id).substring(String(e.target.id).indexOf("_")+1,String(e.target.id).length),t=e.target.value;console.log("value>"+t),console.log("id_detalle:"+a);var n={id:a,id_respuesta:parseInt(t)};console.log(n),this.updateRespuesta(a,n)}},{key:"updateRespuesta",value:function(e,a){Je.update(e,a).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}},{key:"fillDataRespuestas",value:function(e){var a=this;return this.props.respuestas.map((function(t,n){if(t.id_pregunta===e)return console.log("entro"+t.id),r.a.createElement(ft.a,{value:t.id+"",control:r.a.createElement(Lt.a,{color:"primary",id:t.id_respuesta+"_"+t.id,onChange:a.makeAnswers.bind(a),value:t.id_respuesta+""}),label:t.respuesta,labelPlacement:"end"})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.items.map((function(a,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vt.a,{component:qt.a},r.a.createElement(ra.a,{style:{minWidth:650,marginTop:5},size:"small","aria-label":"a dense table"},r.a.createElement(oa.a,null,r.a.createElement(ia.a,null,r.a.createElement(la.a,{align:"center",style:{color:"Highlight",backgroundColor:"#212121"},colSpan:3},String(a[0]))),r.a.createElement(ia.a,null,r.a.createElement(la.a,{width:"10%"},"Numero"),r.a.createElement(la.a,{width:"60%",align:"left"},"Pregunta"),r.a.createElement(la.a,{width:"30%",align:"left"},"Respuesta"))),r.a.createElement(sa.a,null,a[1].map((function(a,t){return r.a.createElement(ia.a,null,r.a.createElement(la.a,null,t+1),r.a.createElement(la.a,{align:"left"},a.nombre_pregunta),r.a.createElement(la.a,{align:"left"},r.a.createElement(Ga.a,{component:"fieldset"},r.a.createElement(Yt.a,{row:!0,"aria-label":"position",name:"resp_"+a.id_pregunta,defaultValue:a.id_respuesta_selected+""},e.fillDataRespuestas(a.id_pregunta,a.id_pk)))))}))))))})))}}]),t}(r.a.Component),Kt=La.getQueryVariable("action"),$t=(n.Component,Object(u.a)((function(){return{root:{},avatar:{height:100,width:100}}}))),Xt=function(e){var a=e.className,t=e.user,n=Object(S.a)(e,["className","user"]),o=$t();return r.a.createElement(ke.a,Object.assign({className:Object(j.a)(o.root,a)},n),r.a.createElement(Xe.a,null,r.a.createElement(y.a,{alignItems:"center",display:"flex",flexDirection:"column"},r.a.createElement(x.a,{className:o.avatar,src:t.avatar}),r.a.createElement(C.a,{color:"textPrimary",gutterBottom:!0,variant:"h3"},t.name),r.a.createElement(C.a,{color:"textPrimary",gutterBottom:!0,variant:"h5"},"Usuario(Rol): ",t.jobTitle),r.a.createElement(C.a,{color:"textSecondary",variant:"body1"},"".concat(t.city," / ").concat(t.country)),r.a.createElement(C.a,{className:o.dateText,color:"textSecondary",variant:"body1"},"".concat(Ce()().format("hh:mm A")," ").concat(t.timezone)))),r.a.createElement(k.a,null))},Zt=La.getQueryVariable("action"),en=function(e){Object(be.a)(t,e);var a=Object(fe.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).useStyles=Object(u.a)((function(){return{root:{}}})),n.useStyles=Object(u.a)((function(e){return{root:{backgroundColor:"black",minHeight:"20px",paddingBottom:e.spacing(3),paddingTop:e.spacing(3),paddingLeft:10}}})),n.state={nombre:"",apellido:"",username:"",password:"",id_rol:2,activo:!0,states:[{value:1,label:"Administrador"},{value:2,label:"Tecnico"}],estados:[{value:1,label:"Activo"},{value:2,label:"Inactivo"}],e_nombre:!1,e_nombre_str:"",e_apellido:!1,e_apellido_str:"",e_username:!1,e_password:!1},n}return Object(K.a)(t,[{key:"componentDidMount",value:function(){if("view"===Zt||"update"===Zt){var e=La.getQueryVariable("id");this.loadUserById(e)}}},{key:"loadUserById",value:function(e){var a=this;Re.findById(e).then((function(e){console.log();var t=e.data;a.setState({nombre:t.nombre,apellido:t.apellido,username:t.username,password:t.password,id_rol:t.id_rol.id_rol,activo:t.activo})})).catch((function(e){console.error(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){if(console.log(e.target.novalidate),e.preventDefault(),""===this.state.nombre)this.ShowAlert("Nombre Usuario"),this.setState({e_nombre:!0});else if(""===this.state.apellido)this.ShowAlert("Apellido"),this.setState({e_apellido:!0});else if(""===this.state.username)this.ShowAlert("Username"),this.setState({e_username:!0});else if(""===this.state.password)this.ShowAlert("Contrase\xf1a"),this.setState({e_password:!0});else{console.log(Object(vt.a)({},this.state));var a={nombre:this.state.nombre,apellido:this.state.apellido,username:this.state.username,password:this.state.password,id_rol:{id_rol:this.state.id_rol},activo:this.state.activo};if("update"===Zt){var t=La.getQueryVariable("id");a.id_user=t}this.save(a)}}},{key:"save",value:function(e){var a=this;Re.save(e).then((function(e){console.log(e),a.ShowSuccess("Creado correctamente!"),window.location="/app/users"})).catch((function(e){console.error(e)}))}},{key:"ShowAlert",value:function(e){var a=document.getElementById("btn-show-alert");this.setState({openAlert:!0,msj:e+" no puede ser vac\xedo!",severity:"warning"}),a.click()}},{key:"ShowSuccess",value:function(e){var a=document.getElementById("btn-show-alert");this.setState({openAlert:!0,msj:e,severity:"succsess"}),a.click()}},{key:"render",value:function(){this.useStyles;return r.a.createElement("form",{autoComplete:"off",noValidate:!0,onSubmit:this.handleSubmit.bind(this)},r.a.createElement(ke.a,null,r.a.createElement(na.a,{subheader:"Detalles del usuario",title:"Usuario"}),r.a.createElement(k.a,null),r.a.createElement(Xe.a,null,r.a.createElement($e.a,{container:!0,spacing:3},r.a.createElement($e.a,{item:!0,md:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,helperText:this.state.e_nombre?"Ingresa el nombre del usuaro, por favor":"",label:"Nombre",name:"nombre",onChange:this.handleChange.bind(this),required:!0,value:this.state.nombre,variant:"outlined",error:this.state.e_nombre})),r.a.createElement($e.a,{item:!0,md:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Apellido",name:"apellido",onChange:this.handleChange.bind(this),required:!0,value:this.state.apellido,variant:"outlined",helperText:this.state.e_apellido?"Ingresa el Apellido del usuaro, por favor":"",error:this.state.e_apellido})),r.a.createElement($e.a,{item:!0,md:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Username",name:"username",onChange:this.handleChange.bind(this),required:!0,value:this.state.username,variant:"outlined",helperText:this.state.e_username?"Ingresa el Username del usuaro, por favor":"",error:this.state.e_username})),r.a.createElement($e.a,{item:!0,md:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Contrase\xf1a",name:"password",onChange:this.handleChange.bind(this),type:"password",value:this.state.password,variant:"outlined",helperText:this.state.e_password?"Ingresa la Contrase\xf1a del usuaro, por favor":"",error:this.state.e_password})),r.a.createElement($e.a,{item:!0,md:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Estado",name:"activo",onChange:this.handleChange.bind(this),required:!0,select:!0,SelectProps:{native:!0},value:this.state.activo,variant:"outlined"},this.state.estados.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))),r.a.createElement($e.a,{item:!0,md:6,xs:12},r.a.createElement(Ma.a,{fullWidth:!0,label:"Rol",name:"id_rol",onChange:this.handleChange.bind(this),required:!0,select:!0,SelectProps:{native:!0},value:this.state.id_rol,variant:"outlined"},this.state.states.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))))),r.a.createElement(k.a,null),r.a.createElement(y.a,{display:"flex",justifyContent:"flex-end",p:2},"view"!=Zt&&r.a.createElement(B.a,{color:"primary",variant:"contained",type:"submit"},"Guardar"),r.a.createElement(B.a,{color:"primary",variant:"contained",style:{marginLeft:5},onClick:function(e){window.location="/app/users"}},"Regresar"))),r.a.createElement(lt,{setOpen:this.state.openAlert,severity:this.state.severity,msj:this.state.msj}))}}]),t}(n.Component),an=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),tn=function(){var e=La.getQueryVariable("action"),a=an(),t=Object(n.useState)(null),o=Object(v.a)(t,2),i=o[0],l=o[1];Object(n.useEffect)((function(){te.whoami().then((function(e){l(e.data)})).catch((function(e){console.error(e)}))}),[]);var s={avatar:"/static/images/avatars/default-avatar.png",city:"San Salvador",country:"El Salvador",jobTitle:null!=i?i.username+" ("+i.id_rol.nombre_rol+") ":"loading",name:null!=i?i.nombre+" "+i.apellido:"loading",timezone:"GTM-7"};return r.a.createElement(ye,{className:a.root,title:"Account"},r.a.createElement(ve.a,{maxWidth:"lg"},r.a.createElement($e.a,{container:!0,spacing:3},"view"===e&&r.a.createElement($e.a,{item:!0,lg:4,md:6,xs:12},r.a.createElement(Xt,{user:s})),"view"!==e&&r.a.createElement($e.a,{item:!0,lg:8,md:6,xs:12},r.a.createElement(en,null)))))};te.setupAxiosInterceptors(te.createJWTToken(te.getTokenUser()));var nn=function(){return te.isUserLoggedIn()?(console.log("1"),!0):(console.log("2"),!1)},rn=[{path:"app",element:r.a.createElement(me,null),children:[{path:"users",element:nn()?r.a.createElement(Fe,null):r.a.createElement(s.a,{to:"/login"})},{path:"customers",element:nn()?r.a.createElement(Ke,null):r.a.createElement(s.a,{to:"/login"})},{path:"dashboard",element:nn()?r.a.createElement(Wa,null):r.a.createElement(s.a,{to:"/login"})},{path:"report",element:nn()?r.a.createElement(mt,null):r.a.createElement(s.a,{to:"/login"})},{path:"settings",element:nn()?r.a.createElement(Pt,null):r.a.createElement(s.a,{to:"/login"})},{path:"encuesta",element:nn()?r.a.createElement(Jt,null):r.a.createElement(s.a,{to:"/login"})},{path:"usuario",element:nn()?r.a.createElement(tn,null):r.a.createElement(s.a,{to:"/login"})},{path:"/logout",element:r.a.createElement(Ft,null)},{path:"*",element:r.a.createElement(s.a,{to:"/404"})}]},{path:"/",element:r.a.createElement(ge,null),children:[{path:"login",element:r.a.createElement(Ya,null)},{path:"register",element:r.a.createElement(bt,null)},{path:"404",element:r.a.createElement(za,null)},{path:"/",element:r.a.createElement(Ya,null)},{path:"*",element:r.a.createElement(s.a,{to:"/404"})}]}],on=function(){var e=Object(s.i)(rn);return r.a.createElement(c.a,{theme:f},r.a.createElement(p,null),e)};i.a.render(r.a.createElement(l.a,null,r.a.createElement(on,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[583,1,2]]]);
//# sourceMappingURL=main.9f3b0513.chunk.js.map